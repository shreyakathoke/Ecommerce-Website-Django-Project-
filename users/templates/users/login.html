{% load static %}
{% load widget_tweaks %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login - My Shop</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link href="https://fonts.googleapis.com/css2?family=Lobster+Two:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/style.css' %}">

  <style>
    body {
      background: linear-gradient(135deg, #FFDEE9, #B5FFFC);
      font-family: 'Lobster Two', cursive;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .navbar { background: transparent !important; }
    .navbar-nav .nav-link { color: #FF6F61 !important; font-weight: 500; transition: 0.3s; }
    .navbar-nav .nav-link:hover { text-decoration: underline; }
    .btn-outline-danger { border-color: #FF6F61; color: #FF6F61; }
    .btn-outline-danger:hover { background-color: #FF6F61; color: white; }
    .btn-danger { background-color: #FF6F61; color: white; }
    .btn-danger:hover { background-color: #E65C50; }

    .card {
      border-radius: 20px;
      box-shadow: 0 12px 25px rgba(0,0,0,0.25);
      background-color: white;
      transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.5s ease;
      opacity: 0;
      transform: translateY(30px);
    }
    .card.show { 
      opacity: 1;
      transform: translateY(0);
    }

    .login-header { font-size: 2.2rem; color: #FF6F61; font-weight: bold; }

    .form-control {
      border-radius: 12px;
      padding: 12px 15px;
      margin-bottom: 15px;
      font-size: 1rem;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }
    .form-control:focus {
      border-color: #FF6F61;
      box-shadow: 0 0 8px rgba(255,111,97,0.4);
    }

    .btn-login {
      background-color: #FF6F61;
      color: white;
      border-radius: 12px;
      width: 100%;
      padding: 12px;
      font-weight: bold;
      font-size: 1.1rem;
      transition: background 0.3s ease, transform 0.2s ease;
    }
    .btn-login:hover { background-color: #E65C50; transform: scale(1.02); }

    .login-footer a { color: #FF6F61; font-weight: 500; text-decoration: none; }
    .login-footer a:hover { text-decoration: underline; }

    .alert { font-size: 0.9rem; }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg sticky-top px-4 py-3">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold fs-2" href="{% url 'users:base' %}" style="color:#FF6F61;">My Shop</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-between" id="navbarNav">
      <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link px-3" href="{% url 'users:base' %}">Home</a></li>
        <li class="nav-item"><a class="nav-link px-3" href="{% url 'users:about' %}">About</a></li>
        <li class="nav-item"><a class="nav-link px-3" href="{% url 'users:contact' %}">Contact</a></li>
      </ul>

      <div class="d-flex align-items-center gap-2">
        <a href="{% url 'users:login' %}" class="btn btn-outline-danger fw-bold">Login</a>
        <a href="{% url 'users:register' %}" class="btn btn-danger fw-bold">Register</a>
      </div>
    </div>
  </div>
</nav>

<!-- Login Card -->
<div class="container d-flex justify-content-center align-items-center" style="min-height: 80vh;">
  <div class="card p-5" style="width: 100%; max-width: 400px;" id="login-card">
    <h3 class="text-center mb-4 login-header">Login</h3>

    {% if form.errors %}
      <div class="alert alert-danger">Please correct the errors below.</div>
    {% endif %}

    <form method="POST" novalidate>
      {% csrf_token %}

      <!-- Username Field -->
      <div class="mb-3">
        {{ form.username.errors }}
        {{ form.username|add_class:"form-control"|attr:"placeholder:Username" }}
      </div>

      <!-- Password Field -->
      <div class="mb-3">
        {{ form.password.errors }}
        {{ form.password|add_class:"form-control"|attr:"placeholder:Password" }}
      </div>

      <button type="submit" class="btn btn-login">Login</button>
    </form>

    <p class="text-center mt-4 login-footer">
      Donâ€™t have an account? <a href="{% url 'users:register' %}">Register</a>
    </p>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Animation JS -->
<script>
  window.addEventListener('DOMContentLoaded', () => {
    const card = document.getElementById('login-card');
    setTimeout(() => { card.classList.add('show'); }, 100);
  });
</script>
</body>
</html>
